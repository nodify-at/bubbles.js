"use strict";!function(){function n(n,t){function a(a,e,i){var u,r={enableDrop:a.enableDrop,handleDrop:a.handleDrop,enableFlip:a.enableFlip,disableNavigationSingleNode:a.disableNavigationSingleNode,scaleFactor:a.scaleFactor,ready:function(n){},navigateTo:a.navigateTo,onClick:function(n){"function"==typeof a.nodeSelected&&a.nodeSelected(n),n.clickCount=n.clickCount?n.clickCount+1:1,n.detail}},E=$(".bubbletree").get(0);a.$watch("data",function(e,i){if(e!==i&&!u){var o=n.parse(a.data);u=t.build(o,E,r)}},!0)}return{restrict:"A",scope:{nodeSelected:"=",navigateTo:"=",data:"=",scaleFactor:"@",disableNavigationSingleNode:"@",enableDrop:"@",enableFlip:"@",handleDrop:"="},link:a}}var t=angular.module("tribefire.bubble",[]);t.directive("tribefireBubble",n),n.$inject=["DataParser","BubbleTreeFactory"]}(),function(){function n(){function n(n,t,a){var e={};return e.enableDrop=a.enableDrop,e.handleDrop=a.handleDrop,e.enableFlip=a.enableFlip,e.disableNavigationSingleNode=a.disableNavigationSingleNode,e.data=n,e.container=t,e.bubbleType="donut",e.scaleFactor=a.scaleFactor,e.ready=function(t,e){$(".amount").remove(),a.ready(n)},e.navigateTo=a.navigateTo,e.onClick=a.onClick,e.rootPath="./",new BubbleTree(e)}return{build:n}}var t=angular.module("tribefire.bubble");t.factory("BubbleTreeFactory",n)}();var TWEEN=TWEEN||function(){var n,t,a,e,i=[];return{start:function(n){a=setInterval(this.update,1e3/(n||60))},stop:function(){clearInterval(a)},add:function(n){i.push(n)},remove:function(t){n=i.indexOf(t),n!==-1&&i.splice(n,1)},update:function(){for(n=0,t=i.length,e=(new Date).getTime();n<t;)i[n].update(e)?n++:(i.splice(n,1),t--)}}}();TWEEN.Tween=function(n){var t={},a={},e={},i=1e3,u=0,r=null,E=TWEEN.Easing.Linear.EaseNone,o=null,s=null,c=null;this.to=function(t,a){null!==a&&(i=a);for(var u in t)null!==n[u]&&(e[u]=t[u]);return this},this.start=function(){TWEEN.add(this),r=(new Date).getTime()+u;for(var i in e)null!==n[i]&&(t[i]=n[i],a[i]=e[i]-n[i]);return this},this.stop=function(){return TWEEN.remove(this),this},this.delay=function(n){return u=n,this},this.easing=function(n){return E=n,this},this.chain=function(n){o=n},this.onUpdate=function(n){return s=n,this},this.onComplete=function(n){return c=n,this},this.update=function(e){var u,l;if(e<r)return!0;e=(e-r)/i,e=e>1?1:e,l=E(e);for(u in a)n[u]=t[u]+a[u]*l;return null!==s&&s.call(n,l),1!=e||(null!==c&&c.call(n),null!==o&&o.start(),!1)}},TWEEN.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}},TWEEN.Easing.Linear.EaseNone=function(n){return n},TWEEN.Easing.Quadratic.EaseIn=function(n){return n*n},TWEEN.Easing.Quadratic.EaseOut=function(n){return-n*(n-2)},TWEEN.Easing.Quadratic.EaseInOut=function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},TWEEN.Easing.Cubic.EaseIn=function(n){return n*n*n},TWEEN.Easing.Cubic.EaseOut=function(n){return--n*n*n+1},TWEEN.Easing.Cubic.EaseInOut=function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},TWEEN.Easing.Quartic.EaseIn=function(n){return n*n*n*n},TWEEN.Easing.Quartic.EaseOut=function(n){return-(--n*n*n*n-1)},TWEEN.Easing.Quartic.EaseInOut=function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},TWEEN.Easing.Quintic.EaseIn=function(n){return n*n*n*n*n},TWEEN.Easing.Quintic.EaseOut=function(n){return(n-=1)*n*n*n*n+1},TWEEN.Easing.Quintic.EaseInOut=function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},TWEEN.Easing.Sinusoidal.EaseIn=function(n){return-Math.cos(n*Math.PI/2)+1},TWEEN.Easing.Sinusoidal.EaseOut=function(n){return Math.sin(n*Math.PI/2)},TWEEN.Easing.Sinusoidal.EaseInOut=function(n){return-.5*(Math.cos(Math.PI*n)-1)},TWEEN.Easing.Exponential.EaseIn=function(n){return 0==n?0:Math.pow(2,10*(n-1))},TWEEN.Easing.Exponential.EaseOut=function(n){return 1==n?1:-Math.pow(2,-10*n)+1},TWEEN.Easing.Exponential.EaseInOut=function(n){return 0==n?0:1==n?1:(n*=2)<1?.5*Math.pow(2,10*(n-1)):.5*(-Math.pow(2,-10*(n-1))+2)},TWEEN.Easing.Circular.EaseIn=function(n){return-(Math.sqrt(1-n*n)-1)},TWEEN.Easing.Circular.EaseOut=function(n){return Math.sqrt(1- --n*n)},TWEEN.Easing.Circular.EaseInOut=function(n){return(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},TWEEN.Easing.Elastic.EaseIn=function(n){var t,a=.1,e=.4;return 0==n?0:1==n?1:(e||(e=.3),!a||a<1?(a=1,t=e/4):t=e/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*(n-=1))*Math.sin(2*(n-t)*Math.PI/e)))},TWEEN.Easing.Elastic.EaseOut=function(n){var t,a=.1,e=.4;return 0==n?0:1==n?1:(e||(e=.3),!a||a<1?(a=1,t=e/4):t=e/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*n)*Math.sin(2*(n-t)*Math.PI/e)+1)},TWEEN.Easing.Elastic.EaseInOut=function(n){var t,a=.1,e=.4;return 0==n?0:1==n?1:(e||(e=.3),!a||a<1?(a=1,t=e/4):t=e/(2*Math.PI)*Math.asin(1/a),(n*=2)<1?-.5*a*Math.pow(2,10*(n-=1))*Math.sin(2*(n-t)*Math.PI/e):a*Math.pow(2,-10*(n-=1))*Math.sin(2*(n-t)*Math.PI/e)*.5+1)},TWEEN.Easing.Back.EaseIn=function(n){return n*n*(2.70158*n-1.70158)},TWEEN.Easing.Back.EaseOut=function(n){return(n-=1)*n*(2.70158*n+1.70158)+1},TWEEN.Easing.Back.EaseInOut=function(n){return(n*=2)<1?.5*n*n*(3.5949095*n-2.5949095):.5*((n-=2)*n*(3.5949095*n+2.5949095)+2)},TWEEN.Easing.Bounce.EaseIn=function(n){return 1-TWEEN.Easing.Bounce.EaseOut(1-n)},TWEEN.Easing.Bounce.EaseOut=function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},TWEEN.Easing.Bounce.EaseInOut=function(n){return n<.5?.5*TWEEN.Easing.Bounce.EaseIn(2*n):.5*TWEEN.Easing.Bounce.EaseOut(2*n-1)+.5};